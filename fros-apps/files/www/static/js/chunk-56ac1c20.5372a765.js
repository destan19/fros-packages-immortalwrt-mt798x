(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56ac1c20"],{"018b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticStyle:{"margin-left":"20px","margin-top":"20px","font-size":"14px"}},[n("p",[t._v("绑定云后可以远程管理设备")]),n("el-link",{attrs:{type:"primary",href:"https://cloud.fros.org.cn",target:"_blank"}},[t._v("进入云端管理")])],1),n("div",{staticStyle:{"margin-left":"0px","margin-top":"20px"}},[n("el-form",{ref:"form",staticStyle:{"margin-top":"30px"},attrs:{model:t.form,"label-width":"10%",size:"small"}},[n("el-form-item",{attrs:{label:"设备ID:"}},[n("div",[t._v(t._s(t.form.device_id))])]),n("el-form-item",{attrs:{label:"云端绑定码:"}},[n("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"云端绑定码"},model:{value:t.form.bind_code,callback:function(e){t.$set(t.form,"bind_code",e)},expression:"form.bind_code"}}),n("el-link",{attrs:{type:"primary",href:"https://cloud.fros.org.cn",target:"_blank"}},[t._v("去获取绑定码")])],1),n("el-form-item",{attrs:{label:"绑定状态:"}},[1==t.form.cloud_status?n("div",{staticStyle:{color:"green"}},[t._v("绑定成功 ")]):n("div",{staticStyle:{color:"red"}},[n("span",[t._v("未绑定")]),n("br"),t.cur_bind_code.length>0?n("div",[0==t.form.bind_error_code?n("span",[t._v("请输入合法的绑定码")]):1==t.form.bind_error_code?n("span",[t._v("服务器通信异常，设备未联网或服务器维护中")]):2==t.form.bind_error_code?n("span",[t._v("服务器内部错误")]):40001==t.form.bind_error_code?n("span",[t._v("云端存在未解绑设备，请先登录云端账号解绑后再试")]):n("span",[t._v("未知错误,code="+t._s(t.form.bind_error_code))])]):t._e()])]),1==t.form.cloud_status?n("el-form-item",{attrs:{label:"绑定账号:"}},[n("div",{staticStyle:{color:"green"}},[t._v(t._s(t.form.cloud_user))])]):t._e(),n("el-form-item",[n("el-button",{staticStyle:{width:"180px"},attrs:{type:"primary",disabled:1==t.form.cloud_status},on:{click:t.onSubmit}},[t._v("绑定云端账号")]),n("el-button",{staticStyle:{width:"180px"},attrs:{type:"danger",disabled:0==t.form.cloud_status},on:{click:t.onUnbindCloud}},[t._v("解除绑定")])],1)],1)],1)])},o=[],a=n("2435"),c=n("8593"),d={data:function(){return{dialogFormVisible:!1,percent:0,activeName:"base",cloudForm:{cloud_en:0},cur_bind_code:"",form:{device_id:"",bind_code:"",cloud_status:0,cloud_user:""},tmp_data:{cloud_status:0}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(c["f"])().then((function(e){t.form=e.data,t.cur_bind_code=t.form.bind_code})),Object(c["g"])().then((function(e){t.cloudForm=e.data}))},onCloudSubmit:function(){var t={data:{}};t.data.cloud_en=this.cloudForm.cloud_en,Object(c["o"])(t).then((function(t){}))},onUnbindCloud:function(){var t=this,e={data:{}},n=this.$loading({lock:a["d"].loading.save.lock,text:"正在解绑，请稍后...",spinner:a["d"].loading.save.spinner,background:a["d"].loading.save.background});Object(c["r"])(e).then((function(t){}));var r=setInterval((function(){t.fetchData(),clearInterval(r),n.close()}),1e4)},onSubmit:function(){var t=this,e={data:{}};if(e.data.bind_code=this.form.bind_code,!this.form.bind_code||this.form.bind_code.length<8||this.form.bind_code.length>64)this.$message({message:"请输入合法的绑定码",type:"error",duration:2e3});else{var n=this.$loading({lock:a["d"].loading.save.lock,text:"正在绑定云端，请稍后...",spinner:a["d"].loading.save.spinner,background:a["d"].loading.save.background});Object(c["n"])(e).then((function(e){if(2e4!=e.code)t.$message({message:"绑定码校验失败",type:"error",duration:2e3});else var r=setInterval((function(){t.fetchData(),clearInterval(r),n.close()}),1e4)}))}}}},i=d,u=(n("2845"),n("2877")),s=Object(u["a"])(i,r,o,!1,null,"5a900f1d",null);e["default"]=s.exports},2845:function(t,e,n){"use strict";n("b708")},8593:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"m",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return i})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return s})),n.d(e,"o",(function(){return l})),n.d(e,"q",(function(){return f})),n.d(e,"n",(function(){return _})),n.d(e,"r",(function(){return m})),n.d(e,"p",(function(){return b})),n.d(e,"k",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"s",(function(){return v})),n.d(e,"l",(function(){return g})),n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"c",(function(){return y}));var r=n("b775");function o(t){return Object(r["a"])({url:"/get_account_info",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/set_account_info",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/get_license",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/get_bind_info",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/get_cloud",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/get_reboot_info",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/heart",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/set_cloud",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/set_reboot_info",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/set_bind_info",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/unbind_cloud",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/set_license",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/reboot_system",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/cancel_upgrade",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/upgrade",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/reset_system_config",method:"post",data:t})}function j(t){return Object(r["a"])({url:"/cmd_clean_all_dev",method:"post",data:t})}function O(t){return Object(r["a"])({url:"/cmd_clean_offline_dev",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/cmd_clean_all_visit",method:"post",data:t})}},b708:function(t,e,n){}}]);