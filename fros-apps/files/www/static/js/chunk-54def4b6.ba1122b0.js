(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54def4b6"],{"0343":function(t,e,r){},"14c3":function(t,e,r){var n=r("c6b6"),a=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"3cdb":function(t,e,r){"use strict";r("0343")},"466d":function(t,e,r){"use strict";var n=r("d784"),a=r("825a"),o=r("50c4"),i=r("1d80"),c=r("8aa5"),u=r("14c3");n("match",1,(function(t,e,r){return[function(e){var r=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=a(t),l=String(this);if(!i.global)return u(i,l);var s=i.unicode;i.lastIndex=0;var d,f=[],m=0;while(null!==(d=u(i,l))){var p=String(d[0]);f[m]=p,""===p&&(i.lastIndex=c(l,o(i.lastIndex),s)),m++}return 0===m?null:f}]}))},5319:function(t,e,r){"use strict";var n=r("d784"),a=r("825a"),o=r("7b0b"),i=r("50c4"),c=r("a691"),u=r("1d80"),l=r("8aa5"),s=r("14c3"),d=Math.max,f=Math.min,m=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,_=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,v=g?"$":"$0";return[function(r,n){var a=u(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,a,n):e.call(String(a),r,n)},function(t,n){if(!g&&b||"string"===typeof n&&-1===n.indexOf(v)){var o=r(e,t,this,n);if(o.done)return o.value}var u=a(t),m=String(this),p="function"===typeof n;p||(n=String(n));var h=u.global;if(h){var x=u.unicode;u.lastIndex=0}var w=[];while(1){var y=s(u,m);if(null===y)break;if(w.push(y),!h)break;var j=String(y[0]);""===j&&(u.lastIndex=l(m,i(u.lastIndex),x))}for(var k="",S=0,E=0;E<w.length;E++){y=w[E];for(var $=String(y[0]),A=d(f(c(y.index),m.length),0),C=[],D=1;D<y.length;D++)C.push(_(y[D]));var N=y.groups;if(p){var R=[$].concat(C,A,m);void 0!==N&&R.push(N);var F=String(n.apply(void 0,R))}else F=O($,m,A,C,N,n);A>=S&&(k+=m.slice(S,A)+F,S=A+$.length)}return k+m.slice(S)}];function O(t,r,n,a,i,c){var u=n+t.length,l=a.length,s=h;return void 0!==i&&(i=o(i),s=p),e.call(c,s,(function(e,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":c=i[o.slice(1,-1)];break;default:var s=+o;if(0===s)return e;if(s>l){var d=m(s/10);return 0===d?e:d<=l?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):e}c=a[s-1]}return void 0===c?"":c}))}}))},8593:function(t,e,r){"use strict";r.d(e,"e",(function(){return a})),r.d(e,"m",(function(){return o})),r.d(e,"h",(function(){return i})),r.d(e,"f",(function(){return c})),r.d(e,"g",(function(){return u})),r.d(e,"i",(function(){return l})),r.d(e,"j",(function(){return s})),r.d(e,"o",(function(){return d})),r.d(e,"q",(function(){return f})),r.d(e,"n",(function(){return m})),r.d(e,"r",(function(){return p})),r.d(e,"p",(function(){return h})),r.d(e,"k",(function(){return _})),r.d(e,"a",(function(){return g})),r.d(e,"s",(function(){return b})),r.d(e,"l",(function(){return v})),r.d(e,"b",(function(){return O})),r.d(e,"d",(function(){return x})),r.d(e,"c",(function(){return w}));var n=r("b775");function a(t){return Object(n["a"])({url:"/get_account_info",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/set_account_info",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/get_license",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/get_bind_info",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/get_cloud",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/get_reboot_info",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/heart",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/set_cloud",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/set_reboot_info",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/set_bind_info",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/unbind_cloud",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/set_license",method:"post",data:t})}function _(t){return Object(n["a"])({url:"/reboot_system",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/cancel_upgrade",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/upgrade",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/reset_system_config",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/cmd_clean_all_dev",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/cmd_clean_offline_dev",method:"post",data:t})}function w(t){return Object(n["a"])({url:"/cmd_clean_all_visit",method:"post",data:t})}},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},ab10:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"g",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return c})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return l})),r.d(e,"h",(function(){return s})),r.d(e,"d",(function(){return d})),r.d(e,"i",(function(){return f}));var n=r("b775");function a(t){return Object(n["a"])({url:"/get_network_base",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/set_network_base",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/get_lan_info",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/get_wan_info",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/set_lan_info",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/set_lan_mac",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/set_wan_info",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/get_wireless_info",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/set_wireless_ssid1",method:"post",data:t})}},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),a=r("d039"),o=r("b622"),i=r("9263"),c=r("9112"),u=o("species"),l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),s=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),m=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,d){var p=o(t),h=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),_=h&&!a((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!h||!_||"replace"===t&&(!l||!s||f)||"split"===t&&!m){var g=/./[p],b=r(p,""[t],(function(t,e,r,n,a){return e.exec===i?h&&!a?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),v=b[0],O=b[1];n(String.prototype,t,v),n(RegExp.prototype,p,2==e?function(t,e){return O.call(t,this,e)}:function(t){return O.call(t,this)})}d&&c(RegExp.prototype[p],"sham",!0)}},e5f8:function(t,e,r){"use strict";r.d(e,"n",(function(){return a})),r.d(e,"m",(function(){return o})),r.d(e,"f",(function(){return i})),r.d(e,"e",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"j",(function(){return l})),r.d(e,"h",(function(){return s})),r.d(e,"p",(function(){return d})),r.d(e,"o",(function(){return f})),r.d(e,"a",(function(){return m})),r.d(e,"i",(function(){return p})),r.d(e,"g",(function(){return h})),r.d(e,"l",(function(){return _})),r.d(e,"k",(function(){return g})),r.d(e,"d",(function(){return b})),r.d(e,"c",(function(){return v}));var n=r("b775");function a(t){return Object(n["a"])({url:"/get_system_status",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/get_oaf_run_status",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/get_connect_status",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/get_client_list",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/get_all_client_list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/get_dev_visit_time",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/get_dev_url_visit_list",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/get_url_visit_list",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/get_url_history_data",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/del_url_history_data",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/get_dev_visit_list",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/get_day_flow",method:"get",params:t})}function _(t){return Object(n["a"])({url:"/get_hour_flow",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/get_global_app_stats",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/get_child_dev_summary",method:"get",params:t})}function v(t){return Object(n["a"])({url:"/get_child_app_week_time",method:"get",params:t})}},e9c4:function(t,e,r){var n=r("23e7"),a=r("d066"),o=r("d039"),i=a("JSON","stringify"),c=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,s=function(t,e,r){var n=r.charAt(e-1),a=r.charAt(e+1);return u.test(t)&&!l.test(a)||l.test(t)&&!u.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},d=o((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&n({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,r){var n=i.apply(null,arguments);return"string"==typeof n?n.replace(c,s):n}})},f23a:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基本设置",name:"base"}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.lanRules,"label-width":"20%",size:"small"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"lan口ip地址为设备的管理地址，不要随意修改",placement:"top"}},[r("el-form-item",{attrs:{label:"IP地址",prop:"ip"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1)],1),r("el-form-item",{attrs:{label:"子网掩码",prop:"mask"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.mask,callback:function(e){t.$set(t.form,"mask",e)},expression:"form.mask"}})],1),1==t.network_config.work_mode?r("div",[r("el-form-item",{attrs:{label:"网关",prop:"gateway"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.gateway,callback:function(e){t.$set(t.form,"gateway",e)},expression:"form.gateway"}})],1),r("el-form-item",{attrs:{label:"DNS1",prop:"dns1"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.dns1,callback:function(e){t.$set(t.form,"dns1",e)},expression:"form.dns1"}})],1),r("el-form-item",{attrs:{label:"DNS2",prop:"dns2"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.dns2,callback:function(e){t.$set(t.form,"dns2",e)},expression:"form.dns2"}})],1)],1):t._e(),r("el-form-item",{attrs:{label:"DHCP服务器"}},[r("el-select",{staticStyle:{width:"150px"},model:{value:t.form.dhcp_server.enable,callback:function(e){t.$set(t.form.dhcp_server,"enable",e)},expression:"form.dhcp_server.enable"}},[r("el-option",{attrs:{label:"关闭",value:0}}),r("el-option",{attrs:{label:"开启",value:1}})],1)],1),1==t.form.dhcp_server.enable?r("el-form-item",{attrs:{label:"dhcp分配基址",prop:"start_ip"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.dhcp_server.start_ip,callback:function(e){t.$set(t.form.dhcp_server,"start_ip",e)},expression:"form.dhcp_server.start_ip"}})],1):t._e(),1==t.form.dhcp_server.enable?r("el-form-item",{attrs:{label:"最大分配ip个数",prop:"end_ip"}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.form.dhcp_server.end_ip,callback:function(e){t.$set(t.form.dhcp_server,"end_ip",e)},expression:"form.dhcp_server.end_ip"}})],1):t._e(),1==t.form.dhcp_server.enable?r("el-form-item",{attrs:{label:"租约时间选择"}},[r("el-select",{staticStyle:{width:"300px"},model:{value:t.form.dhcp_server.lease_time,callback:function(e){t.$set(t.form.dhcp_server,"lease_time",e)},expression:"form.dhcp_server.lease_time"}},t._l(t.lease_time_options,(function(t){return r("el-option",{key:t.time,attrs:{label:t.name,value:t.time,width:"139px"}})})),1)],1):t._e(),r("el-form-item",[r("el-button",{staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1),r("el-tab-pane",{attrs:{label:"高级设置",name:"adv"}},[r("el-form",{ref:"form2",attrs:{model:t.form2,rules:t.lanAdvRules,"label-width":"20%",size:"small"}},[r("el-form-item",{attrs:{label:"LAN MAC配置:"}},[r("el-select",{staticStyle:{width:"150px"},model:{value:t.form2.menual_mac,callback:function(e){t.$set(t.form2,"menual_mac",e)},expression:"form2.menual_mac"}},[r("el-option",{attrs:{label:"跟随网卡MAC",value:0}}),r("el-option",{attrs:{label:"自定义MAC",value:1}})],1)],1),1==t.form2.menual_mac?r("el-form-item",{attrs:{label:"MAC地址:"}},[r("el-input",{staticStyle:{width:"200px"},model:{value:t.form2.mac,callback:function(e){t.$set(t.form2,"mac",e)},expression:"form2.mac"}})],1):r("el-form-item",{attrs:{label:"当前LAN MAC:"}},[t._v(" "+t._s(t.system_status.lan_mac)+" ")]),r("el-form-item",[r("el-button",{staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:t.onAdvSubmit}},[t._v("保存")])],1)],1)],1)],1),r("el-dialog",{attrs:{title:t.diaglogTitle,visible:t.dialogFormVisible,width:"60%",modal:"","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("div",[t._v(t._s(t.tips))]),r("br"),r("el-progress",{attrs:{percentage:t.percent,"stroke-width":3,color:"#8e71c7"}}),r("br"),r("div",[t._v("配置完成后，确保终端获取到新的ip，然后重新访问"+t._s(t.form.ip))])],1)],1)},a=[],o=(r("e9c4"),r("ac1f"),r("466d"),r("5319"),r("2435")),i=r("ab10"),c=(r("8593"),r("e5f8"));function u(t){var e=/^[0-9a-fA-F:]+$/;return!(!t.match(e)||17!=t.length)}var l={data:function(){var t=function(t,e,r){0==e.length?r(new Error("请输入ip，如192.168.1.1")):e.length<7||e.length>15?r(new Error("请输入合法ip地址，如192.168.1.1")):r()},e=function(t,e,r){console.log("validate mask"),0==e.length?r(new Error("请输入子网掩码，如255.255.255.0")):e.length<7||e.length>15?r(new Error("请输入合法ip地址，如255.255.255.0")):r()},r=function(t,e,r){console.log("validate mac"),0==e.length?r(new Error("请输入mac，格式:A0:B0:C0:D0:F0:")):r()};return{activeName:"base",license:{},network_config:{work_mode:0},system_status:{},lanRules:{ip:[{required:!0,trigger:"blur",validator:t}],mask:[{required:!0,trigger:"blur",validator:e}]},lanAdvRules:{mac:[{required:!0,trigger:"blur",validator:r}]},lease_time_options:[{time:"10m",name:"10分钟"},{time:"30m",name:"30分钟"},{time:"1h",name:"1小时"},{time:"2h",name:"2小时"},{time:"6h",name:"6小时"},{time:"12h",name:"12小时"},{time:"24h",name:"1天"},{time:"72h",name:"3天"},{time:"168h",name:"7天"}],form2:{menual_mac:0,mac:""},form:{ip:"",mask:"",dhcp_server:{enable:1,first_dns:"",second_dns:"",start_ip:"",end_ip:"",lease_time:""}},tips:"正在重新配置网络，请稍后...",percent:0,dialogStatus:"",diaglogTitle:"",dialogFormVisible:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(i["a"])().then((function(e){console.log("fetch data ok"+JSON.stringify(e.data)),null==e.data.mac||""==e.data.mac?t.form2.menual_mac=0:(t.form2.menual_mac=1,t.form2.mac=e.data.mac),t.form=e.data})),Object(c["n"])().then((function(e){t.system_status=e.data})),Object(i["b"])().then((function(e){t.network_config=e.data}))},onAdvSubmit:function(){var t=this;console.log("submit");var e={data:{}};if(console.log("set lan mac data"+JSON.stringify(e)),this.form2.mac=this.form2.mac.replace(/^\s*|\s*$/g,""),console.log("mac=["+this.form2.mac+"]"),1==this.form2.menual_mac&&!u(this.form2.mac))return this.$message({message:"MAC错误，格式:A0:B0:C0:D0:F0:E0",type:"error"}),!1;1==this.form2.menual_mac?e.data.mac=this.form2.mac:e.data.mac="",this.$confirm("确定要修改LAN口MAC吗?修改MAC后将会导致设备id改变","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["f"])(e).then((function(e){t.$message({message:o["c"],type:"success"}),t.fetchData()}))})).catch((function(){}))},onSubmit:function(){var t=this,e={data:{}};if(e.data=this.form,console.log("set lan info data"+JSON.stringify(e)),this.form.ip.length<7||this.form.mask.length>15)return this.$message({message:"参数错误",type:"error"}),!1;var r=this.$loading({lock:o["d"].loading.save.lock,text:"正在重新配置网络，请稍后...",spinner:o["d"].loading.save.spinner,background:o["d"].loading.save.background});Object(i["e"])(e).then((function(t){}));var n=setInterval((function(){t.fetchData(),clearInterval(n),r.close(),t.$message({message:o["c"],type:"success"})}),8e3)}}},s=l,d=(r("3cdb"),r("2877")),f=Object(d["a"])(s,n,a,!1,null,"63dcc87c",null);e["default"]=f.exports}}]);